<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transition probabilities — tparams_transprobs • hesim</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Transition probabilities — tparams_transprobs" />
<meta property="og:description" content="Create a list containing predicted transition probabilities at discrete times.
Since the transition probabilities have presumably already been predicted
based on covariate values, no input data is required for
simulation. The class can be instantiated from either an array,
a data.table, a data.frame, or a tpmatrix. This is the object in
hesim used to specify the transition probabilities required to simulate
Markov chains with the CohortDtstmTrans class." />
<meta property="og:image" content="https://hesim-dev.github.io/hesim/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131661920-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131661920-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hesim</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.1.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">API</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro.html">Introduction to hesim</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Cohort discrete time state transition models</li>
    <li>
      <a href="../articles/markov-cohort.html">Simple Markov cohort model</a>
    </li>
    <li>
      <a href="../articles/markov-inhomogeneous-cohort.html">Time inhomogeneous Markov cohort models</a>
    </li>
    <li>
      <a href="../articles/mlogit.html">Markov models with multinomial logistic regression</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Individual continuous time state transition models</li>
    <li>
      <a href="../articles/markov-inhomogeneous-indiv.html">Time inhomogeneous Markov individual-level models</a>
    </li>
    <li>
      <a href="../articles/mstate.html">Markov and semi-Markov multi-state models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Partitioned survival analysis</li>
    <li>
      <a href="../articles/psm.html">N-state partitioned survival models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Decision analysis</li>
    <li>
      <a href="../articles/cea.html">Cost-effectiveness analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/benchmarks.html">Benchmarks</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hesim-dev/hesim/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transition probabilities</h1>
    <small class="dont-index">Source: <a href='https://github.com/hesim-dev/hesim/blob/master/R/tparams_transprobs.R'><code>R/tparams_transprobs.R</code></a></small>
    <div class="hidden name"><code>tparams_transprobs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a list containing predicted transition probabilities at discrete times.
Since the transition probabilities have presumably already been predicted
based on covariate values, no input data is required for
simulation. The class can be instantiated from either an <code>array</code>,
a <code>data.table</code>, a <code>data.frame</code>, or a <code><a href='tpmatrix.html'>tpmatrix</a></code>. This is the object in
<code>hesim</code> used to specify the transition probabilities required to simulate
Markov chains with the <code><a href='CohortDtstmTrans.html'>CohortDtstmTrans</a></code> class.</p>
    </div>

    <pre class="usage"><span class='fu'>tparams_transprobs</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for array</span>
<span class='fu'>tparams_transprobs</span><span class='op'>(</span>
  <span class='va'>object</span>,
  tpmatrix_id <span class='op'>=</span> <span class='cn'>NULL</span>,
  times <span class='op'>=</span> <span class='cn'>NULL</span>,
  grp_id <span class='op'>=</span> <span class='cn'>NULL</span>,
  patient_wt <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for data.table</span>
<span class='fu'>tparams_transprobs</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>tparams_transprobs</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for tpmatrix</span>
<span class='fu'>tparams_transprobs</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>tpmatrix_id</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object of the appropriate class.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods. Currently unused.</p></td>
    </tr>
    <tr>
      <th>tpmatrix_id</th>
      <td><p>An object of class <code><a href='tpmatrix_id.html'>tpmatrix_id</a></code> (or an equivalent
<code>data.table</code> with the same ID columns as returned by <code><a href='tpmatrix_id.html'>tpmatrix_id()</a></code>).</p></td>
    </tr>
    <tr>
      <th>times</th>
      <td><p>An optional numeric vector of distinct times to pass to
<a href='time_intervals.html'>time_intervals</a> representing time intervals indexed by the 4th dimension of
the array. May either be the start or the end of intervals.
This argument is not required if there is only one time interval.</p></td>
    </tr>
    <tr>
      <th>grp_id</th>
      <td><p>An optional numeric vector of integers denoting the subgroups. Must
be the same length as the 3rd dimension of the array.</p></td>
    </tr>
    <tr>
      <th>patient_wt</th>
      <td><p>An optional numeric vector denoting the weight to apply to each
patient within a subgroup. Must be the same length as the 3rd dimension of the array.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>tparams_transprobs</code>,
which is a list containing <code>value</code> and relevant ID attributes. The element
<code>value</code> is an array of predicted transition probability matrices from the
probability distribution of the underlying statistical model. Each matrix in
<code>value</code> is a prediction for a <code>sample</code>, <code>strategy_id</code>, <code>patient_id</code>, and
optionally <code>time_id</code> combination.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The format of <code>object</code> depends on its class:</p><dl>
<dt>array</dt><dd><p>Either a 3D or a 6D array is possible.
<ul>
<li><p>If a 3D array, then each slice is a
square transition probability matrix. In this case
<code>tpmatrix_id</code> is required and each matrix slice corresponds to the same
numbered row in <code>tpmatrix_id</code>. The number of matrix slices must equal the number
of rows in <code>tpmatrix_id</code>.</p></li>
<li><p>If a 6D array, then the dimensions of the array should be indexed as follows:
1st (<code>sample</code>), 2nd (<code>strategy_id</code>), 3rd (<code>patient_id</code>),
4th (<code>time_id</code>), 5th (rows of transition matrix), and
6th (columns of transition matrix). In other words, an index of
<code>[s, k, i, t]</code> represents the transition matrix for the <code>s</code>th
sample, <code>k</code>th treatment strategy, <code>i</code>th patient, and <code>t</code>th
time interval.</p></li>
</ul></p></dd>

<dt>data.table</dt><dd><p>Must contain the following:
<ul>
<li><p>ID columns for the parameter sample (<code>sample</code>),
treatment strategy (<code>strategy_id</code>), and patient (<code>patient_id</code>).
If the number of time intervals is greater than 1 it must also contain the
column <code>time_start</code> denoting the starting time of a time interval. A column
<code>patient_wt</code> may also be used to denote the weight to apply to each
patient.</p></li>
<li><p>Columns for each element of the transition probability matrix.
They should be prefixed with "prob_" and ordered rowwise.
For example, the following columns would be used for a 2x2 transition
probability matrix:
<code>prob_1</code> (1st row, 1st column),
<code>prob_2</code> (1st row, 2nd column),
<code>prob_3</code> (2nd row, 1st column), and
<code>prob_4</code> (2nd row, 2nd column).</p></li>
</ul></p></dd>

<dt>data.frame</dt><dd><p>Same as <code>data.table</code>.</p></dd>

<dt>tpmatrix</dt><dd><p>An object of class <code><a href='tpmatrix.html'>tpmatrix</a></code>.</p></dd>

</dl>

<p>A <code>tparams_transprobs</code> object is also instantiated when creating a
cohort discrete time state transition model using <code><a href='define_model.html'>define_model()</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>A <code>tparams_transprobs</code> object is used to store the "parameters" of
the transition component of a cohort discrete time state transition
model (cDTSTM). You can create such an object with <code>CohortDtstmTran$new()</code>.</p>
<p><code><a href='tpmatrix.html'>tpmatrix()</a></code> and <code><a href='tpmatrix_id.html'>tpmatrix_id()</a></code> provide a convenient way to construct a
<code>tparams_transprobs</code> object in a flexible way. <code><a href='define_model.html'>define_model()</a></code> is, in turn,
a convenient way to construct a <code><a href='tpmatrix.html'>tpmatrix</a></code> object using mathematical
expressions; in this case, an entire cDTSTM can be instantiated from a model
definition using <code><a href='create_CohortDtstm.html'>create_CohortDtstm.model_def()</a></code>. Detailed examples
are provided in <code><a href='../articles/markov-cohort.html'>vignette("markov-cohort")</a></code> and
<code><a href='../articles/markov-inhomogeneous-cohort.html'>vignette("markov-inhomogeneous-cohort")</a></code></p>
<p>The output of a <code>tparams_transprobs</code> object is rather verbose. It can be
helpful to check the output by converting it to a <code>data.table</code> (containing
both the ID variables and flattened transition probability matrices)
with <code><a href='as.data.table.tparams_transprobs.html'>as.data.table.tparams_transprobs()</a></code>. Transition probabilities can
also be summarized (across parameter samples) using
<code><a href='summary.tparams_transprobs.html'>summary.tparams_transprobs()</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>hesim_dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='hesim_data.html'>hesim_data</a></span><span class='op'>(</span>strategies <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>strategy_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span>,
                        patients <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>patient_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>input_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='expand.html'>expand</a></span><span class='op'>(</span><span class='va'>hesim_dat</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"strategies"</span>, <span class='st'>"patients"</span><span class='op'>)</span><span class='op'>)</span>    

<span class='co'># tpmatrix objects provide a convenient way to construct</span>
<span class='co'># tparams_transprobs() objects</span>
<span class='va'>tpmat_id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tpmatrix_id.html'>tpmatrix_id</a></span><span class='op'>(</span><span class='va'>input_data</span>, n_samples <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>      
<span class='va'>p_12</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>tpmat_id</span><span class='op'>)</span>, <span class='fl'>.6</span>, <span class='fl'>.7</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fl'>.05</span> <span class='op'>*</span> <span class='op'>(</span><span class='va'>tpmat_id</span><span class='op'>$</span><span class='va'>strategy_id</span> <span class='op'>==</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>tpmat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tpmatrix.html'>tpmatrix</a></span><span class='op'>(</span>
  <span class='va'>C</span>, <span class='va'>p_12</span>,
  <span class='fl'>0</span>, <span class='fl'>1</span>
<span class='op'>)</span>
<span class='va'>tprobs</span> <span class='op'>&lt;-</span> <span class='fu'>tparams_transprobs</span><span class='op'>(</span><span class='va'>tpmat</span>, <span class='va'>tpmat_id</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>tprobs</span><span class='op'>)</span> <span class='co'># Names of list elements</span>
</div><div class='output co'>#&gt;  [1] "value"          "strategy_id"    "n_strategies"   "patient_id"    
#&gt;  [5] "n_patients"     "time_id"        "time_intervals" "n_times"       
#&gt;  [9] "sample"         "n_samples"      "grp_id"        </div><div class='input'>
<span class='co'># Convert to data.table in wide format</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html'>as.data.table</a></span><span class='op'>(</span><span class='va'>tprobs</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     sample strategy_id patient_id time_id time_start time_stop prob_s1_s1
#&gt;  1:      1           1          1       1          0       Inf  0.3573288
#&gt;  2:      1           1          2       1          0       Inf  0.3976430
#&gt;  3:      1           1          3       1          0       Inf  0.3899896
#&gt;  4:      1           2          1       1          0       Inf  0.2951765
#&gt;  5:      1           2          2       1          0       Inf  0.2647194
#&gt;  6:      1           2          3       1          0       Inf  0.3103232
#&gt;  7:      2           1          1       1          0       Inf  0.3301205
#&gt;  8:      2           1          2       1          0       Inf  0.3916309
#&gt;  9:      2           1          3       1          0       Inf  0.3103174
#&gt; 10:      2           2          1       1          0       Inf  0.2870937
#&gt; 11:      2           2          2       1          0       Inf  0.2700455
#&gt; 12:      2           2          3       1          0       Inf  0.2631438
#&gt;     prob_s1_s2 prob_s2_s1 prob_s2_s2
#&gt;  1:  0.6426712          0          1
#&gt;  2:  0.6023570          0          1
#&gt;  3:  0.6100104          0          1
#&gt;  4:  0.7048235          0          1
#&gt;  5:  0.7352806          0          1
#&gt;  6:  0.6896768          0          1
#&gt;  7:  0.6698795          0          1
#&gt;  8:  0.6083691          0          1
#&gt;  9:  0.6896826          0          1
#&gt; 10:  0.7129063          0          1
#&gt; 11:  0.7299545          0          1
#&gt; 12:  0.7368562          0          1</div><div class='input'>
<span class='co'># Convert to data.table in long format</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html'>as.data.table</a></span><span class='op'>(</span><span class='va'>tprobs</span>, long <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     sample strategy_id patient_id time_id time_start time_stop from to
#&gt;  1:      1           1          1       1          0       Inf   s1 s1
#&gt;  2:      1           1          1       1          0       Inf   s1 s2
#&gt;  3:      1           1          1       1          0       Inf   s2 s1
#&gt;  4:      1           1          1       1          0       Inf   s2 s2
#&gt;  5:      1           1          2       1          0       Inf   s1 s1
#&gt;  6:      1           1          2       1          0       Inf   s1 s2
#&gt;  7:      1           1          2       1          0       Inf   s2 s1
#&gt;  8:      1           1          2       1          0       Inf   s2 s2
#&gt;  9:      1           1          3       1          0       Inf   s1 s1
#&gt; 10:      1           1          3       1          0       Inf   s1 s2
#&gt; 11:      1           1          3       1          0       Inf   s2 s1
#&gt; 12:      1           1          3       1          0       Inf   s2 s2
#&gt; 13:      1           2          1       1          0       Inf   s1 s1
#&gt; 14:      1           2          1       1          0       Inf   s1 s2
#&gt; 15:      1           2          1       1          0       Inf   s2 s1
#&gt; 16:      1           2          1       1          0       Inf   s2 s2
#&gt; 17:      1           2          2       1          0       Inf   s1 s1
#&gt; 18:      1           2          2       1          0       Inf   s1 s2
#&gt; 19:      1           2          2       1          0       Inf   s2 s1
#&gt; 20:      1           2          2       1          0       Inf   s2 s2
#&gt; 21:      1           2          3       1          0       Inf   s1 s1
#&gt; 22:      1           2          3       1          0       Inf   s1 s2
#&gt; 23:      1           2          3       1          0       Inf   s2 s1
#&gt; 24:      1           2          3       1          0       Inf   s2 s2
#&gt; 25:      2           1          1       1          0       Inf   s1 s1
#&gt; 26:      2           1          1       1          0       Inf   s1 s2
#&gt; 27:      2           1          1       1          0       Inf   s2 s1
#&gt; 28:      2           1          1       1          0       Inf   s2 s2
#&gt; 29:      2           1          2       1          0       Inf   s1 s1
#&gt; 30:      2           1          2       1          0       Inf   s1 s2
#&gt; 31:      2           1          2       1          0       Inf   s2 s1
#&gt; 32:      2           1          2       1          0       Inf   s2 s2
#&gt; 33:      2           1          3       1          0       Inf   s1 s1
#&gt; 34:      2           1          3       1          0       Inf   s1 s2
#&gt; 35:      2           1          3       1          0       Inf   s2 s1
#&gt; 36:      2           1          3       1          0       Inf   s2 s2
#&gt; 37:      2           2          1       1          0       Inf   s1 s1
#&gt; 38:      2           2          1       1          0       Inf   s1 s2
#&gt; 39:      2           2          1       1          0       Inf   s2 s1
#&gt; 40:      2           2          1       1          0       Inf   s2 s2
#&gt; 41:      2           2          2       1          0       Inf   s1 s1
#&gt; 42:      2           2          2       1          0       Inf   s1 s2
#&gt; 43:      2           2          2       1          0       Inf   s2 s1
#&gt; 44:      2           2          2       1          0       Inf   s2 s2
#&gt; 45:      2           2          3       1          0       Inf   s1 s1
#&gt; 46:      2           2          3       1          0       Inf   s1 s2
#&gt; 47:      2           2          3       1          0       Inf   s2 s1
#&gt; 48:      2           2          3       1          0       Inf   s2 s2
#&gt;     sample strategy_id patient_id time_id time_start time_stop from to
#&gt;          prob
#&gt;  1: 0.3573288
#&gt;  2: 0.6426712
#&gt;  3: 0.0000000
#&gt;  4: 1.0000000
#&gt;  5: 0.3976430
#&gt;  6: 0.6023570
#&gt;  7: 0.0000000
#&gt;  8: 1.0000000
#&gt;  9: 0.3899896
#&gt; 10: 0.6100104
#&gt; 11: 0.0000000
#&gt; 12: 1.0000000
#&gt; 13: 0.2951765
#&gt; 14: 0.7048235
#&gt; 15: 0.0000000
#&gt; 16: 1.0000000
#&gt; 17: 0.2647194
#&gt; 18: 0.7352806
#&gt; 19: 0.0000000
#&gt; 20: 1.0000000
#&gt; 21: 0.3103232
#&gt; 22: 0.6896768
#&gt; 23: 0.0000000
#&gt; 24: 1.0000000
#&gt; 25: 0.3301205
#&gt; 26: 0.6698795
#&gt; 27: 0.0000000
#&gt; 28: 1.0000000
#&gt; 29: 0.3916309
#&gt; 30: 0.6083691
#&gt; 31: 0.0000000
#&gt; 32: 1.0000000
#&gt; 33: 0.3103174
#&gt; 34: 0.6896826
#&gt; 35: 0.0000000
#&gt; 36: 1.0000000
#&gt; 37: 0.2870937
#&gt; 38: 0.7129063
#&gt; 39: 0.0000000
#&gt; 40: 1.0000000
#&gt; 41: 0.2700455
#&gt; 42: 0.7299545
#&gt; 43: 0.0000000
#&gt; 44: 1.0000000
#&gt; 45: 0.2631438
#&gt; 46: 0.7368562
#&gt; 47: 0.0000000
#&gt; 48: 1.0000000
#&gt;          prob</div><div class='input'>
<span class='co'># Summary where each column is a vector</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>tprobs</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     strategy_id patient_id time_id time_start time_stop from to      mean
#&gt;  1:           1          1       1          0       Inf   s1 s1 0.3437247
#&gt;  2:           1          1       1          0       Inf   s1 s2 0.6562753
#&gt;  3:           1          1       1          0       Inf   s2 s1 0.0000000
#&gt;  4:           1          1       1          0       Inf   s2 s2 1.0000000
#&gt;  5:           1          2       1          0       Inf   s1 s1 0.3946369
#&gt;  6:           1          2       1          0       Inf   s1 s2 0.6053631
#&gt;  7:           1          2       1          0       Inf   s2 s1 0.0000000
#&gt;  8:           1          2       1          0       Inf   s2 s2 1.0000000
#&gt;  9:           1          3       1          0       Inf   s1 s1 0.3501535
#&gt; 10:           1          3       1          0       Inf   s1 s2 0.6498465
#&gt; 11:           1          3       1          0       Inf   s2 s1 0.0000000
#&gt; 12:           1          3       1          0       Inf   s2 s2 1.0000000
#&gt; 13:           2          1       1          0       Inf   s1 s1 0.2911351
#&gt; 14:           2          1       1          0       Inf   s1 s2 0.7088649
#&gt; 15:           2          1       1          0       Inf   s2 s1 0.0000000
#&gt; 16:           2          1       1          0       Inf   s2 s2 1.0000000
#&gt; 17:           2          2       1          0       Inf   s1 s1 0.2673824
#&gt; 18:           2          2       1          0       Inf   s1 s2 0.7326176
#&gt; 19:           2          2       1          0       Inf   s2 s1 0.0000000
#&gt; 20:           2          2       1          0       Inf   s2 s2 1.0000000
#&gt; 21:           2          3       1          0       Inf   s1 s1 0.2867335
#&gt; 22:           2          3       1          0       Inf   s1 s2 0.7132665
#&gt; 23:           2          3       1          0       Inf   s2 s1 0.0000000
#&gt; 24:           2          3       1          0       Inf   s2 s2 1.0000000
#&gt;     strategy_id patient_id time_id time_start time_stop from to      mean
#&gt;              sd
#&gt;  1: 0.019239113
#&gt;  2: 0.019239113
#&gt;  3: 0.000000000
#&gt;  4: 0.000000000
#&gt;  5: 0.004251159
#&gt;  6: 0.004251159
#&gt;  7: 0.000000000
#&gt;  8: 0.000000000
#&gt;  9: 0.056336744
#&gt; 10: 0.056336744
#&gt; 11: 0.000000000
#&gt; 12: 0.000000000
#&gt; 13: 0.005715383
#&gt; 14: 0.005715383
#&gt; 15: 0.000000000
#&gt; 16: 0.000000000
#&gt; 17: 0.003766132
#&gt; 18: 0.003766132
#&gt; 19: 0.000000000
#&gt; 20: 0.000000000
#&gt; 21: 0.033360839
#&gt; 22: 0.033360839
#&gt; 23: 0.000000000
#&gt; 24: 0.000000000
#&gt;              sd</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>tprobs</span>, probs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.025</span>, <span class='fl'>.975</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     strategy_id patient_id time_id time_start time_stop from to      mean
#&gt;  1:           1          1       1          0       Inf   s1 s1 0.3437247
#&gt;  2:           1          1       1          0       Inf   s1 s2 0.6562753
#&gt;  3:           1          1       1          0       Inf   s2 s1 0.0000000
#&gt;  4:           1          1       1          0       Inf   s2 s2 1.0000000
#&gt;  5:           1          2       1          0       Inf   s1 s1 0.3946369
#&gt;  6:           1          2       1          0       Inf   s1 s2 0.6053631
#&gt;  7:           1          2       1          0       Inf   s2 s1 0.0000000
#&gt;  8:           1          2       1          0       Inf   s2 s2 1.0000000
#&gt;  9:           1          3       1          0       Inf   s1 s1 0.3501535
#&gt; 10:           1          3       1          0       Inf   s1 s2 0.6498465
#&gt; 11:           1          3       1          0       Inf   s2 s1 0.0000000
#&gt; 12:           1          3       1          0       Inf   s2 s2 1.0000000
#&gt; 13:           2          1       1          0       Inf   s1 s1 0.2911351
#&gt; 14:           2          1       1          0       Inf   s1 s2 0.7088649
#&gt; 15:           2          1       1          0       Inf   s2 s1 0.0000000
#&gt; 16:           2          1       1          0       Inf   s2 s2 1.0000000
#&gt; 17:           2          2       1          0       Inf   s1 s1 0.2673824
#&gt; 18:           2          2       1          0       Inf   s1 s2 0.7326176
#&gt; 19:           2          2       1          0       Inf   s2 s1 0.0000000
#&gt; 20:           2          2       1          0       Inf   s2 s2 1.0000000
#&gt; 21:           2          3       1          0       Inf   s1 s1 0.2867335
#&gt; 22:           2          3       1          0       Inf   s1 s2 0.7132665
#&gt; 23:           2          3       1          0       Inf   s2 s1 0.0000000
#&gt; 24:           2          3       1          0       Inf   s2 s2 1.0000000
#&gt;     strategy_id patient_id time_id time_start time_stop from to      mean
#&gt;              sd      2.5%     97.5%
#&gt;  1: 0.019239113 0.3308008 0.3566486
#&gt;  2: 0.019239113 0.6433514 0.6691992
#&gt;  3: 0.000000000 0.0000000 0.0000000
#&gt;  4: 0.000000000 1.0000000 1.0000000
#&gt;  5: 0.004251159 0.3917812 0.3974927
#&gt;  6: 0.004251159 0.6025073 0.6082188
#&gt;  7: 0.000000000 0.0000000 0.0000000
#&gt;  8: 0.000000000 1.0000000 1.0000000
#&gt;  9: 0.056336744 0.3123092 0.3879978
#&gt; 10: 0.056336744 0.6120022 0.6876908
#&gt; 11: 0.000000000 0.0000000 0.0000000
#&gt; 12: 0.000000000 1.0000000 1.0000000
#&gt; 13: 0.005715383 0.2872958 0.2949744
#&gt; 14: 0.005715383 0.7050256 0.7127042
#&gt; 15: 0.000000000 0.0000000 0.0000000
#&gt; 16: 0.000000000 1.0000000 1.0000000
#&gt; 17: 0.003766132 0.2648525 0.2699123
#&gt; 18: 0.003766132 0.7300877 0.7351475
#&gt; 19: 0.000000000 0.0000000 0.0000000
#&gt; 20: 0.000000000 1.0000000 1.0000000
#&gt; 21: 0.033360839 0.2643233 0.3091437
#&gt; 22: 0.033360839 0.6908563 0.7356767
#&gt; 23: 0.000000000 0.0000000 0.0000000
#&gt; 24: 0.000000000 1.0000000 1.0000000
#&gt;              sd      2.5%     97.5%</div><div class='input'>
<span class='co'># Summary where each column is a matrix</span>
<span class='va'>ps</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>tprobs</span>, id <span class='op'>=</span> <span class='va'>tpmat_id</span>, unflatten <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>ps</span>
</div><div class='output co'>#&gt;    strategy_id patient_id time_id time_start time_stop
#&gt; 1:           1          1       1          0       Inf
#&gt; 2:           1          2       1          0       Inf
#&gt; 3:           1          3       1          0       Inf
#&gt; 4:           2          1       1          0       Inf
#&gt; 5:           2          2       1          0       Inf
#&gt; 6:           2          3       1          0       Inf
#&gt;                                       mean
#&gt; 1: 0.3437247,0.0000000,0.6562753,1.0000000
#&gt; 2: 0.3946369,0.0000000,0.6053631,1.0000000
#&gt; 3: 0.3501535,0.0000000,0.6498465,1.0000000
#&gt; 4: 0.2911351,0.0000000,0.7088649,1.0000000
#&gt; 5: 0.2673824,0.0000000,0.7326176,1.0000000
#&gt; 6: 0.2867335,0.0000000,0.7132665,1.0000000
#&gt;                                                 sd
#&gt; 1:     0.01923911,0.00000000,0.01923911,0.00000000
#&gt; 2: 0.004251159,0.000000000,0.004251159,0.000000000
#&gt; 3:     0.05633674,0.00000000,0.05633674,0.00000000
#&gt; 4: 0.005715383,0.000000000,0.005715383,0.000000000
#&gt; 5: 0.003766132,0.000000000,0.003766132,0.000000000
#&gt; 6:     0.03336084,0.00000000,0.03336084,0.00000000</div><div class='input'><span class='va'>ps</span><span class='op'>$</span><span class='va'>mean</span>
</div><div class='output co'>#&gt; [[1]]
#&gt;           s1        s2
#&gt; s1 0.3437247 0.6562753
#&gt; s2 0.0000000 1.0000000
#&gt; 
#&gt; [[2]]
#&gt;           s1        s2
#&gt; s1 0.3946369 0.6053631
#&gt; s2 0.0000000 1.0000000
#&gt; 
#&gt; [[3]]
#&gt;           s1        s2
#&gt; s1 0.3501535 0.6498465
#&gt; s2 0.0000000 1.0000000
#&gt; 
#&gt; [[4]]
#&gt;           s1        s2
#&gt; s1 0.2911351 0.7088649
#&gt; s2 0.0000000 1.0000000
#&gt; 
#&gt; [[5]]
#&gt;           s1        s2
#&gt; s1 0.2673824 0.7326176
#&gt; s2 0.0000000 1.0000000
#&gt; 
#&gt; [[6]]
#&gt;           s1        s2
#&gt; s1 0.2867335 0.7132665
#&gt; s2 0.0000000 1.0000000
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Devin Incerti, Jeroen P. Jansen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


